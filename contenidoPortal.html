<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Interactivo de Informaci√≥n Financiera</title>
	
	<link rel="icon" type="image/png" sizes="40x40" href="img/PIIF-icono.png">
    <link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="portal.css">
    <script src="librerias/jquery-3.7.1.min.js"></script>
    <script src="scripts.js" defer></script>
	<script src="contenidoPortal.js" defer></script>
    <link href="librerias/bootstrap.min.css" rel="stylesheet">
    <script src="librerias/bootstrap.bundle.min.js"></script>
	
	<script src="librerias/highcharts.js"></script>
	<script src="librerias/exporting.js"></script>
	<script src="librerias/export-data.js"></script>
	<script src="librerias/accessibility.js"></script>
	
	<link rel="stylesheet" href="librerias/dataTables.bootstrap5.min.css">
<script src="librerias/jquery.dataTables.min.js"></script>
<script src="librerias/dataTables.bootstrap5.min.js"></script>


	
  </head>
  <body>
    <header>
      <div class="logo-portal">
        <img src="img/PIIF-logo.png" alt="Logo Portal" class="logo-grande">
        <img src="img/PIIF-icono.png" alt="Logo Peque√±o" class="logo-pequeno">
      </div> 
      <div class="header-centro"></div>
      <div class="divInfoHeader">
        <div class="datos-usuario">
          <span>Luis Antonio Hern√°ndez De La Luz</span>
          <span>B16847 - 002001</span>
        </div>
        <img src="img/b16847.png" class="user-img" alt="Luis Antonio Hern√°ndez De La Luz">
        <div id="menuUsuario" class="menu-usuario">
          <p>Perfil</p>
          <p>Salir</p>
        </div>
      </div>
    </header>
	
	<!-- Titulo del libro actual -->
	<div id="titulo-y-barra">
		<h1 id="titulo-libro">Sistema de Informaci√≥n Interactiva de Sistemas de Pagos e Infraestructura de Mercados (SIISPIM)</h1>
		<div id="barra-fija" class="d-flex align-items-center p-2">
		  <!-- Im√°genes circulares / men√∫ hamburguesa -->
		  <div class="d-flex align-items-center gap-2 flex-shrink-0">
			<!-- Desktop images -->
			<div class="d-none d-md-flex gap-2 me-2" id="imagenes-barra">
			  <img src="img/atras.png" class="img-circular" alt="Icono 1" onclick="window.location.href='index.html'">
			  <img src="img/esp.png" class="img-circular" alt="Icono 2">
			  <img src="img/eng.png" class="img-circular" alt="Icono 3">
			</div>
			<!-- Menu hamburguesa m√≥vil -->
			<div class="d-flex d-md-none position-relative me-2">
			  <button class="btn btn-light" id="menu-hamburguesa-btn">‚ò∞</button>
			  <div id="menu-hamburguesa" class="dropdown-menu p-2" style="position: absolute; top: 100%; left: 0; display: none;">
				<img src="img/atras.png" class="img-circular menu-item mb-2" alt="Icono 1" onclick="window.location.href='index.html'">
				<img src="img/esp.png" class="img-circular menu-item mb-2" alt="Icono 2">
				<img src="img/eng.png" class="img-circular menu-item mb-2" alt="Icono 3">
			  </div>
			</div>
		  </div>

			<!-- Select derecho -->
			<div class="dropdown w-100 w-md-50 ms-2 ms-md-auto">
			  <!-- Bot√≥n que muestra la opci√≥n seleccionada -->
			  <button class="btn w-100 text-start d-flex justify-content-between align-items-center" 
					  id="dropdownMenuButton" 
					  data-bs-toggle="dropdown" 
					  aria-expanded="false" 
					  style=" color: #fff;border: 1px solid #04b3bb;text-align: center !important;font-weight: bold;background: rgba(4, 179, 187, 0.2);">
				<span id="texto-seleccionado" class="text-wrap">
				  Derivados Vigentes de Bancos y Casas de Bolsa
				</span>
				<span class="ms-2"><i class="bi bi-chevron-down"></i></span>
			  </button>

			  <!-- Men√∫ desplegable -->
			  <ul class="dropdown-menu p-2" aria-labelledby="dropdownMenuButton" style="max-height: 250px; overflow-y: auto; min-width: 100%; max-width: 100%;">
				<li><input type="text" class="form-control mb-2" id="buscador-dropdown" placeholder="Buscar..."></li>
				<li><a class="dropdown-item text-wrap opcion" href="#">Derivados Vigentes de Bancos y Casas de Bolsa</a></li>
				<li><a class="dropdown-item text-wrap opcion" href="#">Volumen Negociado por Bancos y Casas de Bolsa</a></li>
				<li><a class="dropdown-item text-wrap opcion" href="#">Indicadores de las Principales Operaciones Derivadas</a></li>
			  </ul>
			</div>

		
		  
		  
		</div>
	</div>


	<!-- Contenido -->
	<main id="contenido-portal">
	  
		<!-- Menu de hamburguesa -->
		<button id="btnMenu" class="btn btn-info w-75 d-md-none m-2">
			‚ò∞ Ver contenido
		</button>
		
		<!-- Menus y secciones -->
		<div class="d-flex">
		
			<!-- Nav -->
			<nav id="menuLateral" class="p-3">
			
				<!-- Bot√≥n de cerrar visible solo en m√≥viles -->
				<button id="cerrarMenuLateral" class="btn d-md-none mb-2 w-100">‚úñÔ∏è</button>

			
				<!-- Buscador -->
				<input type="text" id="buscadorMenu" class="form-control mb-3 buscadorContenido" placeholder="Buscar contenido...">

				
				
				<!-- Lista -->
				<ul class="list-unstyled" id="menuPrincipal">
				
					<div class="d-flex justify-content-center gap-2 mb-3">
						<button id="expandirTodo" class="btn btn-sm btn-primary">Expandir todo</button>
						<button id="contraerTodo" class="btn btn-sm btn-secondary">Contraer todo</button>
					</div> 
					
					<li>
					  <a href="#" class="menu-link flecha">üìÇ Por tipo de instituci√≥n y de transacci√≥n</a>
					  <ul class="list-unstyled ms-3" style="display:none;">
						<li><a href="#" class="menu-link" data-contenido="General">‚û°Ô∏è General</a></li>
						<li><a href="#" class="menu-link" data-contenido="Todas las operaciones derivadas">‚û°Ô∏è Todas las operaciones derivadas</a></li>
						<li><a href="#" class="menu-link" data-contenido="Swaps">‚û°Ô∏è Swaps</a></li>
						<li><a href="#" class="menu-link" data-contenido="Forwards">‚û°Ô∏è Forwards</a></li>
						<li><a href="#" class="menu-link" data-contenido="Futuros">‚û°Ô∏è Futuros</a></li>
						<li><a href="#" class="menu-link" data-contenido="Opciones y titulos opcionales">‚û°Ô∏è Opciones y titulos opcionales</a></li>
					  </ul>
					</li>
					<li>
					  <a href="#" class="menu-link flecha">üìÇ Por tipo de mercado</a>
					  <ul class="list-unstyled ms-3" style="display:none;">
						<li><a href="#" class="menu-link" data-contenido="General">‚û°Ô∏è General</a></li>
						<li><a href="#" class="menu-link" data-contenido="Desglose por tipo de mercado">‚û°Ô∏è Desglose por tipo de mercado</a></li>
						<li><a href="#" class="menu-link" data-contenido="Swaps">‚û°Ô∏è Swaps</a></li>
						<li><a href="#" class="menu-link" data-contenido="Forwards">‚û°Ô∏è Forwards</a></li>
						<li><a href="#" class="menu-link" data-contenido="Futuros">‚û°Ô∏è Futuros</a></li>
						<li><a href="#" class="menu-link" data-contenido="Opciones y titulos opcionales">‚û°Ô∏è Opciones y titulos opcionales</a></li>
					  </ul>
					</li>
					<li>
					  <a href="#" class="menu-link flecha">üìÇ Por tipo de activo subyacente</a>
					  <ul class="list-unstyled ms-3" style="display:none;">
						<li><a href="#" class="menu-link" data-contenido="General">‚û°Ô∏è General</a></li>
						<li><a href="#" class="menu-link" data-contenido="Swaps">‚û°Ô∏è Swaps</a></li>
						<li><a href="#" class="menu-link" data-contenido="Forwards">‚û°Ô∏è Forwards</a></li>
						<li><a href="#" class="menu-link" data-contenido="Futuros">‚û°Ô∏è Futuros</a></li>
						<li><a href="#" class="menu-link" data-contenido="Opciones y titulos opcionales">‚û°Ô∏è Opciones y titulos opcionales</a></li>
					  </ul>
					</li>
					<li>
					  <a href="#" class="menu-link flecha">üìÇ Por tipo y residencia de la contraparte</a>
					  <ul class="list-unstyled ms-3" style="display:none;">
						<li><a href="#" class="menu-link" data-contenido="General">‚û°Ô∏è General</a></li>
						<li><a href="#" class="menu-link" data-contenido="Desglose por tipo de mercado">‚û°Ô∏è Desglose por tipo de contraparte</a></li>
						<li><a href="#" class="menu-link" data-contenido="Swaps">‚û°Ô∏è Swaps</a></li>
						<li><a href="#" class="menu-link" data-contenido="Forwards">‚û°Ô∏è Forwards</a></li>
						<li><a href="#" class="menu-link" data-contenido="Futuros">‚û°Ô∏è Futuros</a></li>
						<li><a href="#" class="menu-link" data-contenido="Opciones y titulos opcionales">‚û°Ô∏è Opciones y titulos opcionales</a></li>
					  </ul>
					</li>
					<li>
					  <a href="#" class="menu-link flecha">üìÇ Por plazo residual de los derivados</a>
					  <ul class="list-unstyled ms-3" style="display:none;">
						<li><a href="#" class="menu-link" data-contenido="General">‚û°Ô∏è General</a></li>
						<li><a href="#" class="menu-link" data-contenido="Desglose por tipo de mercado">‚û°Ô∏è Desglose por plazo residual</a></li>
						<li><a href="#" class="menu-link" data-contenido="Swaps">‚û°Ô∏è Swaps</a></li>
						<li><a href="#" class="menu-link" data-contenido="Forwards">‚û°Ô∏è Forwards</a></li>
						<li><a href="#" class="menu-link" data-contenido="Futuros">‚û°Ô∏è Futuros</a></li>
						<li><a href="#" class="menu-link" data-contenido="Opciones y titulos opcionales">‚û°Ô∏è Opciones y titulos opcionales</a></li>
					  </ul>
					</li>
				</ul>
			</nav>
			
			<!-- Contenido din√°mico -->
			<div id="contenido" class="flex-grow-1 p-3">
			  <h2 id="elementoSeleccionado">General</h2>
			 
			  
			  <div id="grafica" style="width: 100%; height: 400px; min-height: 400px;"></div>
			  
			  


			  
			</div>
		
		</div>
	  
	</main>
	
	
	<script>
    // Funci√≥n para cargar contenido din√°micamente
    function cargarContenido(id) {
      const contenedor = document.getElementById("contenido");
      //contenedor.innerHTML = `<h2>${id}</h2><p>Has cargado el contenido de <b>${id}</b>.</p>`;
	  $("#elementoSeleccionado").text(id);
	  
    }
	
	function mostrarGrafica() {
	  Highcharts.chart('grafica', {
		chart: {
		  type: 'column', // tipo de gr√°fica
		   height: document.getElementById('grafica').offsetHeight
		},
		title: {
		  text: 'Ejemplo de Gr√°fica de Derivados'
		},
		xAxis: {
		  categories: ['Banco A', 'Banco B', 'Casa de Bolsa C', 'Banco D'],
		  crosshair: true
		},
		yAxis: {
		  min: 0,
		  title: {
			text: 'Volumen (millones)'
		  }
		},
		tooltip: {
		  headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
		  pointFormat:
			'<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
			'<td style="padding:0"><b>{point.y:.1f} M</b></td></tr>',
		  footerFormat: '</table>',
		  shared: true,
		  useHTML: true
		},
		plotOptions: {
		  column: {
			pointPadding: 0.2,
			borderWidth: 0
		  }
		},
		series: [{
		  name: 'Derivados',
		  data: [49.9, 71.5, 106.4, 129.2]
		}],
		responsive: {
		  rules: [{
			condition: {
			  maxWidth: 600
			},
			chartOptions: {
			  chart: {
				height: 300
			  },
			  legend: {
				enabled: false
			  }
			}
		  }]
		}
	  });
	}


    // Asignar eventos a los links del men√∫
    document.querySelectorAll(".menu-link").forEach(link => {
  link.addEventListener("click", (e) => {
    e.preventDefault();

    // Solo actualizar contenido si el link tiene atributo data-contenido
    const contenido = link.getAttribute("data-contenido");
    if (contenido) {
      cargarContenido(contenido);

      // Cerrar men√∫ autom√°ticamente en m√≥viles
      if (window.innerWidth <= 768) {
        document.getElementById("menuLateral").classList.remove("show");
      }
    } else {
      // Si no tiene data-contenido, es opci√≥n principal: toggle de sublista
      const sublista = link.nextElementSibling;
      if (sublista && sublista.tagName === "UL") {
        const isVisible = sublista.style.display === "block";
        sublista.style.display = isVisible ? "none" : "block";

        // Actualizar clase de flecha
        if (isVisible) {
          link.classList.remove("expandida");
        } else {
          link.classList.add("expandida");
        }
      }
    }
  });
});


    // Buscador din√°mico
    document.getElementById("buscadorMenu").addEventListener("keyup", function() {
      const filtro = this.value.toLowerCase();
      document.querySelectorAll("#menuPrincipal li").forEach(li => {
        const texto = li.textContent.toLowerCase();
        li.style.display = texto.includes(filtro) ? "" : "none";
      });
    });

    // Bot√≥n hamburguesa
    document.getElementById("btnMenu").addEventListener("click", () => {
      document.getElementById("menuLateral").classList.toggle("show");
    });
	
	
  </script>


  </body>
</html>